# 初学者 NFT 编程

> 原文：<https://moralis.io/nft-programming-for-beginners/>

不可替代的代币，通常被称为 NFT，已经大受欢迎。事实上，NFT 行业允许艺术家从他们的数字艺术中赚取数千万美元。NFTs 的出现现在获得了如此巨大的估值，以至于艺术、金融和加密社区的数字创作者开始意识到 NFTs 的转型影响。因此，学习 NFT 发展是一个伟大的方式来推进你的 Web3 职业生涯。然而，如果您是 NFT 领域的初学者，您可能想知道如何开始 NFT 开发。因此，我们将在本文中向您展示必要的步骤，并教您初学者 NFT 编程。

作为初学者，你可能也想知道什么是 NFT？NFT 是不可替代的数字资产，代表各种区块链上的独特项目。然而，本文的目的不是详细解释什么是 NFT。尽管如此，如果你想在本教程中继续学习之前阅读一下这个主题，请查看 Moralis 博客中的以下文章以获得更多信息:“解释不可替换的令牌——什么是 NFT？”。

相反，如果你是一个程序员，想开始区块链和 NFT 开发，你来对地方了。在这里，您将基本了解如何编程或开发一个 NFT，并使用一个简单的中间件平台(如 Moralis)来部署它。

## 终极 NFT 编程课程

那么，为什么我们要在这个初学者终极 NFT 编程课程中使用 Moralis 呢？原因很简单。Moralis 是一个功能强大的平台，提供无缝托管和全套产品来帮助您进行 NFT 编程。这包括一个强大的深度索引 [NFT API](https://moralis.io/announcing-the-moralis-nft-api/) 用于创建你的 NFTs 或 NFT 平台。此外，Moralis 还帮助您管理您的 NFT。除了使用 Moralis 及其下一代 Web3 服务来帮助加速您的项目，您还将获得在 NFT 开发过程中使用哪些开源工具的提示。

更高级的、熟悉区块链的开发人员会发现这篇文章是创建他们自己的 NFT 的有用而快速的介绍。如果你喜欢一个详细的视频教程，你可以直接去 [Moralis 的 YouTube 频道](https://www.youtube.com/channel/UCgWS9Q3P5AxCWyQLT2kQhBw)并欣赏这个解释清楚的关于如何立即开始 NFT 开发的指南:

https://www.youtube.com/watch?v=tBMk1iZa85Y

对于那些仍在学习编程语言和构建他们的堆栈的人来说，通过在概念层面上学习 NFT 开发，你将从本指南中受益。在你完全沉浸于 NFT 编程之前，它会让你对这样一个项目的需求有一个概念。

# 如何开始 NFT 编程

鉴于当今对 NFTs 和 NFT 平台的需求，它们激起了希望在这个令人兴奋和有利可图的区块链领域起步的开发人员的兴趣就不足为奇了。

人们认为 NFT 编程既复杂又困难。虽然它有一定的先决条件，但并不像听起来那么可怕。最近，开源工具使它变得更容易，允许您导入可靠的智能合同，而不必从头开始构建您的 NFT 项目。一旦您掌握了所需的技能和知识，并且熟悉了使您的构建更容易的工具，您会发现 NFT 开发可以非常简单、容易和有趣！

## NFT 编程的先决条件

首先，你需要熟悉区块链、[智能合约](https://moralis.io/smart-contracts-explained-what-are-smart-contracts/)、 [Web3](https://moralis.io/the-ultimate-guide-to-web3-what-is-web3/) 、DeFi、 [dApps](https://moralis.io/decentralized-applications-explained-what-are-dapps/) 的概念，以及这样的生态系统如何工作。你还需要对以太坊等去中心化网络有透彻的了解。理想情况下，你应该已经探索了在以太坊上构建的各种方法，比如[编程 dApps](https://moralis.io/decentralized-applications-explained-what-are-dapps/) 或者[创建 ERC-20 令牌](https://moralis.io/how-to-create-your-own-erc-20-token-in-10-minutes/)。此外，你应该已经知道 JavaScript 和 Solidity 等编程语言。

JavaScript 和 Solidity，以及像 [JSON](https://moralis.io/json-explained-what-is-json-javascript-object-notation/) 这样的格式，对于创建智能合约和与区块链互动都很重要。他们也有必要了解各种 Web3 工具和中间件平台的作用，如 [Moralis](https://moralis.io/) 将帮助你优化你的构建。

为了获得 JavaScript 的坚实基础以及它与区块链的关系，请查看 Ivan on Tech Academy 的以下课程:“[区块链开发者 JavaScript 编程课程](https://academy.ivanontech.com/courses/javascript-programming-for-blockchain-developers)”。这是对这个主题的极好介绍，为您提供了 JavaScript 在区块链和 NFT 开发中的重要性的独特视角。你的编程技能中的另一个必备技能是[可靠性](https://moralis.io/solidity-explained-what-is-solidity/)，它被称为“智能合约语言”。Solidity 是专门为以太坊和智能契约创建而构建的。你可以通过伊凡科技学院解释[以太坊智能合约编程](https://academy.ivanontech.com/courses/ethereum-smart-contract-programming-101)的入门课程了解更多。

如果您勾选了所有这些方框，您就可以进入下一步了，这就是 NFT 开发的实际流程。

## NFT 发展——简化指南

虽然我们可能不会涵盖 NFT 编程或 NFT 开发的所有复杂性，但本指南将向您介绍该过程的一般步骤以及您可以使用的工具，以帮助简化该过程。

### NFT 编程的步骤

本指南的组织方式为您提供了 NFT 编程或 NFT 开发中重要步骤的概述。NFT 编程的基本步骤是:

1.  NFT 本身的创建，包括构建智能合同。
2.  添加元数据并找到元数据的主机。
3.  在市场上列出你的 NFT。
4.  管理 NFT。

*请注意:在本文中，我们将关注前两步，即通过构建基于 ERC-1155 标准的智能合约来创建 NFT，并为元数据找到主机。然而，由于第三步和第四步也很重要，你可以参考前面提到的 NFT 编程的视频来更详细地了解它们。*

## NFT 编程步骤 1:创建 NFT

我们将创建一个 ERC-1155 令牌。请注意，有两种 NFT 或不可替代的令牌标准:ERC-721 和 ERC-1155。ERC-1155 比 ERC-721 更新，功能更多。

使用 ERC-1155(创建不可替换令牌的最新标准)具有某些优势，包括:

*   更加灵活。
*   能够在同一合同中创建和使用可替换和不可替换的令牌。
*   进行批量转移。
*   更有效地设置和管理参数。

### **建立智能合同**

要创建智能合约，请访问 Remix (remix.ethereum.org)。Remix 让你可以访问大量的库，从而更容易地构建智能合约。这些库作为可靠的、经过测试的智能契约的来源非常有用，可以在 NFT 开发中使用。

### **创建新文件**

在你的混音工作区创建一个新文件。为此，我们将其命名为“Opensea_nft”，但是您可以自由选择任何您喜欢的名称。

### ![](img/a0020b698e9f18b012adb8f17a725ed9.png)

重要的是要重申，在你继续下一步之前，你必须知道可靠。如果你还在学习稳健的诀窍，可以看看 Moralis 的 Youtube 频道，那里有更多的教育工具和很棒的[稳健教程。](https://www.youtube.com/watch?v=IkCfIE1VoRo)

首先输入“实用程序可靠性^0.8.0".”这是用于此目的的编译器版本。接下来，从 OpenZeppelin 导入 ERC-1155 令牌契约。OpenZeppelin 惊人的令牌契约库和其他有用的契约为您提供了经过充分测试的可靠的智能契约，您可以轻松地使用它们来执行构建中的常见功能。

### **在 OpenZeppelin 中寻找 ERC-1155 智能合约**

在这里，你可以看到 ERC-1155 合同的 OpenZeppelin GitHub 页面:

![](img/218545f306d59920aecf7b33f0b9b5b9.png)

ERC-1155 标准为您提供了自动 NFT 所需的所有功能，包括跟踪天平的必要映射功能和检查天平的功能。它还提供了进行传输、创建新的 NFT(包括批量创建)和刻录 NFT 的功能。并非所有可用的功能都将在本项目中实施。我们只会选择最相关的。

## 从智能合约创建 NFT

将原始合同导入到 Remix 上新创建的智能合同中。为此，您只需导入 GitHub 链接。

继续定义新的智能合同。命名新契约(为此，我们称之为“NFTContract”)。在这之后，你可以“继承”原来的 ERC-1155 合同。可靠性中的继承仅仅意味着你从这个契约中获取功能。

![](img/ee0aed6bf8dbcd87cf066eef1af3a40d.png)

继承契约后，您可以开始基于父 ERC-1155 契约实现自己的 NFT。

## 实现您自己的 NFT

您可以在此指定合同特有的项目。例如，您可以命名您的 NFT 项目，并指定您想要铸造多少代币。您还将提供元数据，并指出谁可以在您的契约上调用函数。

### **添加限制**

要使铸造功能专属于所有者，您需要使用“Ownable”智能合约，该合约可在 OpenZeppelin 上获得。进入 OpenZeppelin 网站，点击“合同”，然后点击“访问”，然后点击“Ownable.sol”。将此文件导入您的合同。

![](img/cd9c5a9df66c5c6e4d59acaca058a7fa.png)

将造币功能设置为“onlyOwner”。通过确保调用者与所有者相同，这保证了铸造是第一次部署契约的地址所独有的。添加“要求”语句。所有这些所做的是确保契约保存了所有者的地址并实现了一个修饰符——在函数运行之前运行的一段代码。

您的智能合同应该如下所示:

![](img/b81e9763bb24157b617e04a8a74e9df7.png)

### **焚烧代币**

有些人可能想要刻录他们自己的 NFT。你需要做的就是添加“刻录”功能和参数。“刻录”功能确保帐户余额大于您刻录的金额。对于其他参数，您可以选择像上面那样添加限制。只有契约所有者调用 burn 函数是有意义的。因此，您还可以在代码中添加一个“require”函数。

## 在虚拟机上部署

该合同现在可以部署在虚拟机上了。要测试智能合约，点击 Remix 左侧菜单上的以太坊图标。确保您选择了 NFT 合同。单击“部署”。

![](img/98da1bc0a2d871f3d2a76235ac340eab.png)

单击“部署”后，您将能够查看实例。该实例列出了此协定中可以调用的所有函数。之后，尝试调用一些函数，看看它们是否工作。

![](img/e3572e7af7e669b9b06b3b390ee1d708.png)

### **代币余额**

你可以从检查你的代币余额开始。在文件名“Artwork”下，可以粘贴账号 ID，创建令牌 ID(此处暂称为“0”)，点击“调用”。你将能立即看到你的余额。

### **测试薄荷功能**

您可以铸造新的代币，只需点击实例上的“铸造”功能，并输入您的地址、代币 ID 和您想要铸造的代币数量。点击“交易”。

![](img/95d169a4c165fe71e2a2246fddfd77f2.png)

如果您再次检查您的代币余额，您会发现这些新铸造的代币已经添加到您的总数中。您可以对每个新的令牌 ID 重复该过程。

## NFT 编程步骤 2:添加元数据和查找主机

对于下一步，您需要了解每个 NFT 的元数据结构。要获得一个概述，请访问 OpenSea 网站，搜索他们显示元数据标准的地方。

![](img/fc830ec85ceebd415e879084f2b4be6e.png)

基本结构写为两个花括号之间的 JSON 字符串，应该至少包括以下内容:

*   描述。
*   外部 URL:指向您可以查看 NFT 的位置。
*   图片:图片本身的链接。
*   姓名。
*   属性。

### **创建 JSON 文件**

在你的混音编辑器中打开一个新文件夹。它应该是一个与 Moralis 兼容的“index.html”文件。保存文件。创建一个 JSON 文件；对于这个例子，我们可以写“0.json”作为初始名称，并在该文件中包含实际的属性(图像、描述、名称等)。).它应该看起来像来自 OpenSea 的例子。

在为 NFT 创建 JSON 字符串之后，您需要在某个地方托管它们。它不能在智能合约内或区块链本身上。需要有一个到 JSON 文件的外部链接，然后将它放入智能契约中。这就是 Moralis 的用武之地。

### **在 Moralis 上托管 JSON 文件**

获取托管您的目录的 URL。为此，您需要来自 Moralis 服务器的各种 CLI。要继续，你需要有一个 Moralis 的帐户。如果你还没有注册，不要担心。只要去 [Moralis 的官方网站](https://admin.moralis.io/register?utm_source=blog&utm_medium=post&utm_campaign=Want%2520the%2520Latest%2520in%2520%253Cspan%253EBlockchain%2520Development%253F%253C%252Fspan%253E)就可以了。报名又快又简单，还免费！

设置好 Moralis 帐户后，点击右上角的“+创建新服务器”按钮创建一个新服务器。创建服务器后，单击“查看详细信息”以检索 CLI API 密钥和 CLI API 密码。这些是你需要在稍后的混音中输入的细节。

![](img/fb758f0d1107300f14d3b8e61a2a0fe2.png)

在 Remix 上，打开菜单栏上的“终端”并查看“终端”。在上面，键入 run“NPM install–g–moralis–admin–CLI”。当您部署它时，它会询问您的 CLI API 密钥，稍后会询问您的 CLI API 密码。将来自 Moralis 服务器的信息输入“终端”。

![](img/f41c586be3788967d1b6f04a4d11ee46.png)

现在可以部署了。如果一切正常，您应该看到“部署成功！”。

复制该文件的 URL，并在浏览器上访问该 URL。现在获取您希望嵌入到 NFT 中的作品的 URL，并将其作为“图像”粘贴到 JSON 字符串中。

你也可以选择添加一个外部网址(如艺术家的专业网站)来为你的作品或图像添加适当的属性。如果希望在部署初始文件后添加属性，可以根据需要经常编辑文件并重新部署。

您可以对其他图像重复此过程，次数不限。

## 关注 ERC-1155 标准

既然您已经知道如何创建一个 JSON NFT 文件并将其托管在 Moralis 上，那么是时候对您的 NFT 开发进行微调了。

![](img/fbe6f0c3933ee507c2e5219650106e69.png)

ERC-1155 标准，如在元数据选择下的实际 EIP 中所示，具有用于 JSON ERC-1155 字符串的特定格式。您需要检查字符串格式下的 ERC-1155 标准规范:它需要 64 个不带 0x 前缀的十六进制字符。因此，接下来您需要修改您的原始文件名，并根据需要将其填充到 64 位。

#### **重命名文件**

在这种情况下，因为 NFT ID 只是“0 ”,所以只需再加上 63 个 0 就可以得到 64。这很重要，因为每个查询 ERC-1155 的人都会根据这个特定的模式进行查询。

![](img/a8d1416d35d751e1f7b4109ac48a5a52.png)

按照公认的标准重命名文件后，您可以保存它并再次将其发布到 Moralis 服务器。

## 部署智能合同

现在，您的文件已经托管在网站上，您可以继续部署您的智能合同。

### **获取基础 URL**

复制从 Moralis 获得的 URL，并将其粘贴到 ERC-1155 合同的构造函数下。要转到实际的 NFT JSON 文件，请添加"/{ID}。json”。

![](img/2316e337b4fc5ca9a0f5dc83fc5b4912.png)

上面的过程就是我们如何提供 ERC-1155 合同的 URL。

## NFT 元数据和市场

OpenSea 等市场与托管的 NFT 元数据进行了有效的交互。通过只定义一次 URI，适当的格式化将允许这样的市场使用相同的链上字符串用于大量代币。

本质上，你指的是区块链的同一个空间。URI 只提供一次，客户端可以用十六进制形式的任何令牌 ID 替换“{ID}”。

## 在测试网上部署

您的 NFT 智能合同现在已经准备好部署在一个测试网上，看看它是否工作。这包括通过 Rinkeby 网站等网站从水龙头获取 testnet 令牌。你应该已经熟悉从这种水龙头中获取乙醚，以及在调配和测试中使用它们。对于这个过程，你还需要一个[元掩码](https://moralis.io/metamask-explained-what-is-metamask/)账户。

转到 Remix，点击“部署”标签下的“注入的 Web3”。连接您的 MetaMask 帐户，并确保您选择了“Rinkeby (4)网络”。单击“部署”。

![](img/1fedcaf048f0d4b12f6069123dac359e.png)

转到 [ropsten.etherscan.io](https://ropsten.etherscan.io/) 。粘贴事务哈希。你应该能在那里找到你的 NFT。一切完成后，你就可以在市场的测试网上发布你的 NFT 了。只需进入 OpenSea 并选择 testnet 选项。

![](img/5de1a0dd7d966f953ef5aa3969814e9d.png)

当它在测试网上完美地工作时，你可以把它部署在主网上。只需从元掩码帐户中选择“Mainnet”。当你回到 OpenSea 时，选择 mainnet。

## Moralis 使 NFT 编程变得更容易

![](img/a48f8c8fef747b26afd946f974630722.png)

Beeple 开创性的 NFT 艺术作品“每一天:第一个 5000 天”(部分图片)。图片来源:佳士得

正如您所看到的，Moralis 通过为您的 NFT 元数据提供主机来帮助简化 NFT 编程过程，因此您可以在几个小时内托管、测试和部署您的 NFT。

在本文中，我们仅仅触及了 NFT 编程的基本部分。然而，要获得如何创建、启动、列出和管理 NFT 的全部细节，请务必查看本文开头提到的优秀的 Moralis NFT 视频教程。值得注意的是，除了成为你的 NFT 创造之旅的一部分，Moralis 还有工具来管理你未来的 NFT。

DeFi NFT 平台如 [NFTmall](https://moralis.io/nftmall-announces-moralis-nft-api-deep-index-api-integration/) 和 [SuperFarm](https://moralis.io/announcing-superfarms-moralis-nft-api-integration/) 已经集成了 Moralis 的 API，NFTmall 称之为“Web3 后端开发的瑞士军刀”。随着如此庞大的项目发现了 Moralis 的便利性和可靠性，是时候更多地探索 NFTs 了。

考虑这是第一步解锁 Moralis 可以做的不可思议的事情增压你的 NFT 建设！